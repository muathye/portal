import{_ as s,o as a,c as n,S as l}from"./chunks/framework.f15d8f8c.js";const o="/snippets/2023-02-14/extend-laravel-validator-morph-exists.png",A=JSON.parse('{"title":"Extend Laravel Validator Morph Exists","description":"A laravel validator macro that extends validator with as morph_exists.","frontmatter":{"layout":"doc","title":"Extend Laravel Validator Morph Exists","date":"2023-02-14T00:00:00.000Z","author":"Muath Alsowadi","gravatar":"19684bc9c928dffa64f9c23efb31ba86","twitter":"@muathye","description":"A laravel validator macro that extends validator with as morph_exists.","head":[["meta",{"name":"keywords","content":"laravel validator morph"}],["meta",{"name":"og:type","content":"article"}],["meta",{"name":"og:url","content":"https://muathye.com/snippets/2023-02-14-extend-laravel-validator-morph-exists"}],["meta",{"name":"og:title","content":"Extend Laravel Validator Morph Exists"}],["meta",{"name":"og:description","content":"A laravel validator macro that extends validator with as morph_exists."}],["meta",{"name":"og:image","content":"https://muathye.com/snippets/2023-02-14/extend-laravel-validator-morph-exists.png"}]]},"headers":[],"relativePath":"snippets/2023-02-14-extend-laravel-validator-morph-exists.md","filePath":"snippets/2023-02-14-extend-laravel-validator-morph-exists.md","lastUpdated":1693950469000}'),p={name:"snippets/2023-02-14-extend-laravel-validator-morph-exists.md"},e=l('<p><img src="'+o+`" alt="An image"></p><p><a href="https://ray.so/#code=PD9waHAKLyogdXNlZnVsIHZhbGlkYXRvciBleHRlbmQgYG1vcnBoX2V4aXN0c2AgKi8KVmFsaWRhdG9yOjpleHRlbmQoJ21vcnBoX2V4aXN0cycsIGZ1bmN0aW9uICgkYXR0cmlidXRlLCAkdmFsdWUsICRwYXJhbWV0ZXJzLCAkdmFsaWRhdG9yKQp7CglpZiAoIW9iamVjdFR5cGUgPSBBcnI6OmdldCgkdmFsaWRhdG9yLT5nZXREYXRhKCksICRwYXJhbWV0ZXJzWzBdLCBmYWxzZSkpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgkvLyBUaGUgbW9kZWxzIG5hbWVzcGFjZS4KCXJldHVybiAhZW1wdHkocmVzb2x2ZSgnQXBwXFxNb2RlbHNcXCcuJG9iamVjdFR5cGUpLT5maW5kKCR2YWx1ZSkpOwp9KTsKCi8qIFVzYWdlIG9uIGFueSB2YWxpZGF0b3IgcnVsZXMgb3IgRm9ybVJlcXVlc3QgKi8KcHVibGljIGZ1bmN0aW9uIHJ1bGVzKCkKewoJcmV0dXJuIFsKCQknY29tbWVudGFibGVfaWQnID0-IFsncmVxdWlyZWQnLCAnbW9ycGhfZXhpc3RzOmNvbW1lbnRhYmxlX3R5cGUnXSwKCQknY29tbWVudGFibGVfdHlwZScgPT4gWydyZXF1aXJlZCcsICdzdHJpbmcnXSwKCV07Cn0KCi8qKiBnaXRodWIuY29tL211YXRoLXllICov&amp;darkMode=true&amp;background=true&amp;title=extend-laravel-validator-morph-exists.php&amp;language=php&amp;padding=64&amp;width=920" target="_blank" rel="noreferrer">ray.so</a></p><h1 id="extend-laravel-validator-morph-exists" tabindex="-1">Extend Laravel Validator Morph Exists <a class="header-anchor" href="#extend-laravel-validator-morph-exists" aria-label="Permalink to &quot;Extend Laravel Validator Morph Exists&quot;">â€‹</a></h1><p>A laravel validator extends validator with morph_exists.</p><p>Useful validator extend <code>morph_exists</code>.</p><p>Put the following on <code>app/Http/Providers/AppServiceProvider.php</code> at <code>boot</code> method.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Validator</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">extend</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">morph_exists</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">attribute</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">parameters</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">validator</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#A6ACCD;">objectType </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Arr</span><span style="color:#89DDFF;">::</span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">validator</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">parameters</span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">],</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// The models namespace.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#82AAFF;">empty</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">resolve</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">App</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">Models</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#89DDFF;">&#39;.</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">objectType</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">find</span><span style="color:#89DDFF;">($</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">));</span></span>
<span class="line"><span style="color:#89DDFF;">});</span></span></code></pre></div><p>Usage on any validator rules or FormRequest.</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">rules</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commentable_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">required</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">morph_exists:commentable_type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commentable_type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">required</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">];</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div>`,9),t=[e];function r(c,D,F,y,i,d){return a(),n("div",null,t)}const m=s(p,[["render",r]]);export{A as __pageData,m as default};
